import * as React from 'react';
import { Card, CardContent, Typography, Stack, TextField, Select, MenuItem, Button } from '@mui/material';

export default function AddCustomAttributePanel({ orgName, subcatName, editable }) {
  const [defn, setDefn] = React.useState('');
  const [ml, setMl] = React.useState(3);
  const [att, setAtt] = React.useState('');

  return (
    <Card variant="outlined" sx={{ mt: 2 }}>
      <CardContent>
        <Typography variant="overline" color="text.secondary">
          Add custom attribute ({orgName} → {subcatName})
        </Typography>
        <Stack spacing={1.5} sx={{ mt: 1.5 }}>
          <TextField
            label="Attribute definition"
            placeholder="Enter desired attribute definition…"
            value={defn}
            onChange={(e) => setDefn(e.target.value)}
            multiline minRows={3}
            disabled={!editable}
          />
          <Stack direction="row" spacing={2}>
            <Select size="small" value={ml} onChange={(e)=>setMl(e.target.value)} disabled={!editable} sx={{ minWidth: 140 }}>
              <MenuItem value={3}>Level 3</MenuItem>
              <MenuItem value={4}>Level 4</MenuItem>
            </Select>
            <Select size="small" value={att} onChange={(e)=>setAtt(e.target.value)} disabled={!editable} sx={{ minWidth: 200 }}>
              <MenuItem value="">— 2025 Attestation —</MenuItem>
              <MenuItem value="Meet">Meet</MenuItem>
              <MenuItem value="Partial Meet">Partial Meet</MenuItem>
              <MenuItem value="Does Not Meet">Does Not Meet</MenuItem>
            </Select>
            <span style={{ flex: 1 }} />
            <Button variant="outlined" disabled={!editable}>Cancel</Button>
            <Button variant="contained" disabled={!editable}>Add Attribute</Button>
          </Stack>
        </Stack>
      </CardContent>
    </Card>
  );
}
