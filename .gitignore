// src/features/attributeMapping/api/selectionApi.js
import api from '../../../lib/axiosClient';

/**
 * Save Keep/Remove and/or Attestation for one attribute row.
 * Backend endpoint you asked for: /api/selection/save
 * Payload uses the same ID fields already present in normalized rows.
 */
export async function saveSelection({
  orgID,
  csF2SubcategoryID,
  csF1SubcategoryID,
  maturityLevel,
  attributeNum,
  selectionStatus,        // 'Keep' | 'Remove' | null
  selectionAttestation,   // 'Meet' | 'Partial Meet' | 'Does Not Meet' | null
}) {
  const payload = {
    orgID,
    csF2SubcategoryID,
    csF1SubcategoryID: csF1SubcategoryID ?? 0,
    maturityLevel,
    attributeNum,
    selectionStatus,
    selectionAttestation,
  };

  // POST because weâ€™re writing data.
  const { data } = await api.post('/api/selection/save', payload);
  return data; // assume { ok:true } or the updated row
}
